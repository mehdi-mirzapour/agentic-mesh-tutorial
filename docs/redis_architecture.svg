<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1918.5 863.5" style="max-width: 1918.5px;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-1771421279948"><style>#mermaid-1771421279948{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1771421279948 .error-icon{fill:#552222;}#mermaid-1771421279948 .error-text{fill:#552222;stroke:#552222;}#mermaid-1771421279948 .edge-thickness-normal{stroke-width:2px;}#mermaid-1771421279948 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1771421279948 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1771421279948 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1771421279948 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1771421279948 .marker{fill:#333333;stroke:#333333;}#mermaid-1771421279948 .marker.cross{stroke:#333333;}#mermaid-1771421279948 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1771421279948 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1771421279948 .cluster-label text{fill:#333;}#mermaid-1771421279948 .cluster-label span,#mermaid-1771421279948 p{color:#333;}#mermaid-1771421279948 .label text,#mermaid-1771421279948 span,#mermaid-1771421279948 p{fill:#333;color:#333;}#mermaid-1771421279948 .node rect,#mermaid-1771421279948 .node circle,#mermaid-1771421279948 .node ellipse,#mermaid-1771421279948 .node polygon,#mermaid-1771421279948 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1771421279948 .flowchart-label text{text-anchor:middle;}#mermaid-1771421279948 .node .label{text-align:center;}#mermaid-1771421279948 .node.clickable{cursor:pointer;}#mermaid-1771421279948 .arrowheadPath{fill:#333333;}#mermaid-1771421279948 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1771421279948 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1771421279948 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1771421279948 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1771421279948 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-1771421279948 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1771421279948 .cluster text{fill:#333;}#mermaid-1771421279948 .cluster span,#mermaid-1771421279948 p{color:#333;}#mermaid-1771421279948 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1771421279948 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1771421279948 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-1771421279948_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-1771421279948_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-1771421279948_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-1771421279948_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-1771421279948_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-1771421279948_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g id="redis" class="cluster default flowchart-label"><rect height="745.5" width="1206.9765625" y="102" x="0" ry="0" rx="0" style=""></rect><g transform="translate(553.83203125, 102)" class="cluster-label"><foreignObject height="18.5" width="99.3125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Redis Streams</span></div></foreignObject></g></g><g id="specialists" class="cluster default flowchart-label"><rect height="83.5" width="675.5234375" y="433" x="1226.9765625" ry="0" rx="0" style=""></rect><g transform="translate(1504.7265625, 433)" class="cluster-label"><foreignObject height="18.5" width="120.0234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Specialist Agents</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-producer LE-s_tasks" id="L-producer-s_tasks-0" d="M603.488,33.5L603.488,39.208C603.488,44.917,603.488,56.333,603.488,67.75C603.488,79.167,603.488,90.583,603.488,99.575C603.488,108.567,603.488,115.133,603.488,118.417L603.488,121.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_tasks LE-coord" id="L-s_tasks-coord-0" d="M603.488,160.5L603.488,166.208C603.488,171.917,603.488,183.333,709.022,196.612C814.556,209.891,1025.623,225.031,1131.157,232.601L1236.69,240.172"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-coord LE-s_gram" id="L-coord-s_gram-0" d="M1241.977,249.117L1071.09,257.056C900.204,264.995,558.432,280.872,387.546,293.636C216.66,306.4,216.66,316.05,216.66,320.875L216.66,325.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-coord LE-s_clar" id="L-coord-s_clar-0" d="M1241.977,250.187L1115.219,257.948C988.462,265.708,734.948,281.229,608.191,293.815C481.434,306.4,481.434,316.05,481.434,320.875L481.434,325.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-coord LE-s_tone" id="L-coord-s_tone-0" d="M1241.977,252.08L1156.728,259.525C1071.479,266.97,900.982,281.86,815.733,294.13C730.484,306.4,730.484,316.05,730.484,320.875L730.484,325.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-coord LE-s_struct" id="L-coord-s_struct-0" d="M1241.977,257.12L1199.876,263.725C1157.775,270.33,1073.573,283.54,1031.472,294.97C989.371,306.4,989.371,316.05,989.371,320.875L989.371,325.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_gram LE-grammar" id="L-s_gram-grammar-0" d="M216.66,364.5L216.66,370.208C216.66,375.917,216.66,387.333,216.66,398.75C216.66,410.167,216.66,421.583,389.997,433.819C563.334,446.054,910.007,459.108,1083.344,465.635L1256.68,472.162"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_clar LE-clarity" id="L-s_clar-clarity-0" d="M481.434,364.5L481.434,370.208C481.434,375.917,481.434,387.333,481.434,398.75C481.434,410.167,481.434,421.583,640.117,433.842C798.8,446.101,1116.166,459.202,1274.849,465.753L1433.533,472.304"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_tone LE-tone" id="L-s_tone-tone-0" d="M730.484,364.5L730.484,370.208C730.484,375.917,730.484,387.333,730.484,398.75C730.484,410.167,730.484,421.583,873.981,433.853C1017.477,446.123,1304.47,459.246,1447.967,465.807L1591.463,472.369"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_struct LE-struct" id="L-s_struct-struct-0" d="M989.371,364.5L989.371,370.208C989.371,375.917,989.371,387.333,989.371,398.75C989.371,410.167,989.371,421.583,1113.648,433.662C1237.926,445.74,1486.48,458.48,1610.758,464.85L1735.035,471.22"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-grammar LE-s_sugg_gram" id="L-grammar-s_sugg_gram-0" d="M1325.402,491.5L1325.402,495.667C1325.402,499.833,1325.402,508.167,1131.883,518.042C938.365,527.917,551.327,539.333,357.808,549.867C164.289,560.4,164.289,570.05,164.289,574.875L164.289,579.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-clarity LE-s_sugg_clar" id="L-clarity-s_sugg_clar-0" d="M1492.793,491.5L1492.793,495.667C1492.793,499.833,1492.793,508.167,1321.324,518.042C1149.854,527.917,806.915,539.333,635.446,549.867C463.977,560.4,463.977,570.05,463.977,574.875L463.977,579.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-tone LE-s_sugg_tone" id="L-tone-s_sugg_tone-0" d="M1643.543,491.5L1643.543,495.667C1643.543,499.833,1643.543,508.167,1494.276,518.042C1345.009,527.917,1046.475,539.333,897.208,549.867C747.941,560.4,747.941,570.05,747.941,574.875L747.941,579.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-struct LE-s_sugg_struct" id="L-struct-s_sugg_struct-0" d="M1803.914,491.5L1803.914,495.667C1803.914,499.833,1803.914,508.167,1676.885,518.042C1549.857,527.917,1295.799,539.333,1168.771,549.867C1041.742,560.4,1041.742,570.05,1041.742,574.875L1041.742,579.7"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_sugg_gram LE-agg" id="L-s_sugg_gram-agg-0" d="M164.289,618.5L164.289,624.208C164.289,629.917,164.289,641.333,343.021,654.99C521.753,668.647,879.218,684.544,1057.95,692.492L1236.682,700.44"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_sugg_clar LE-agg" id="L-s_sugg_clar-agg-0" d="M463.977,618.5L463.977,624.208C463.977,629.917,463.977,641.333,592.761,654.795C721.546,668.257,979.116,683.763,1107.901,691.517L1236.686,699.27"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_sugg_tone LE-agg" id="L-s_sugg_tone-agg-0" d="M747.941,618.5L747.941,624.208C747.941,629.917,747.941,641.333,829.401,654.419C910.86,667.504,1073.779,682.258,1155.239,689.635L1236.698,697.012"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-s_sugg_struct LE-agg" id="L-s_sugg_struct-agg-0" d="M1041.742,618.5L1041.742,624.208C1041.742,629.917,1041.742,641.333,1074.247,653.196C1106.751,665.059,1171.76,677.367,1204.265,683.522L1236.769,689.676"></path><path marker-end="url(#mermaid-1771421279948_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-agg LE-s_summary" id="L-agg-s_summary-0" d="M1241.977,708.732L1135.562,716.402C1029.147,724.071,816.318,739.411,709.903,751.905C603.488,764.4,603.488,774.05,603.488,778.875L603.488,783.7"></path></g><g class="edgeLabels"><g transform="translate(603.48828125, 67.75)" class="edgeLabel"><g transform="translate(-18.984375, -9.25)" class="label"><foreignObject height="18.5" width="37.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">XADD</span></div></foreignObject></g></g><g transform="translate(603.48828125, 194.75)" class="edgeLabel"><g transform="translate(-118.19921875, -9.25)" class="label"><foreignObject height="18.5" width="236.3984375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">XREADGROUP: coordinator-group</span></div></foreignObject></g></g><g transform="translate(216.66015625, 296.75)" class="edgeLabel"><g transform="translate(-18.984375, -9.25)" class="label"><foreignObject height="18.5" width="37.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">XADD</span></div></foreignObject></g></g><g transform="translate(481.43359375, 296.75)" class="edgeLabel"><g transform="translate(-18.984375, -9.25)" class="label"><foreignObject height="18.5" width="37.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">XADD</span></div></foreignObject></g></g><g transform="translate(730.484375, 296.75)" class="edgeLabel"><g transform="translate(-18.984375, -9.25)" class="label"><foreignObject height="18.5" width="37.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">XADD</span></div></foreignObject></g></g><g transform="translate(989.37109375, 296.75)" class="edgeLabel"><g transform="translate(-18.984375, -9.25)" class="label"><foreignObject height="18.5" width="37.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">XADD</span></div></foreignObject></g></g><g transform="translate(216.66015625, 398.75)" class="edgeLabel"><g transform="translate(-108.578125, -9.25)" class="label"><foreignObject height="18.5" width="217.15625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">XREADGROUP: grammar-group</span></div></foreignObject></g></g><g transform="translate(481.43359375, 398.75)" class="edgeLabel"><g transform="translate(-99.6875, -9.25)" class="label"><foreignObject height="18.5" width="199.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">XREADGROUP: clarity-group</span></div></foreignObject></g></g><g transform="translate(730.484375, 398.75)" class="edgeLabel"><g transform="translate(-92.85546875, -9.25)" class="label"><foreignObject height="18.5" width="185.7109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Stream: doc.review.summary</span></div></foreignObject></g></g><g transform="translate(1325.40234375, 474.75)" id="flowchart-grammar-2" class="node default default flowchart-label"><rect height="33.5" width="126.8515625" y="-16.75" x="-63.42578125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-55.92578125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="111.8515625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Grammar Agent</span></div></foreignObject></g></g><g transform="translate(1492.79296875, 474.75)" id="flowchart-clarity-3" class="node default default flowchart-label"><rect height="33.5" width="107.9296875" y="-16.75" x="-53.96484375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-46.46484375, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="92.9296875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Clarity Agent</span></div></foreignObject></g></g><g transform="translate(1643.54296875, 474.75)" id="flowchart-tone-4" class="node default default flowchart-label"><rect height="33.5" width="93.5703125" y="-16.75" x="-46.78515625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-39.28515625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="78.5703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Tone Agent</span></div></foreignObject></g></g><g transform="translate(1803.9140625, 474.75)" id="flowchart-struct-5" class="node default default flowchart-label"><rect height="33.5" width="127.171875" y="-16.75" x="-63.5859375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="112.171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Structure Agent</span></div></foreignObject></g></g><g transform="translate(603.48828125, 16.75)" id="flowchart-producer-0" class="node default default flowchart-label"><rect height="33.5" width="124.9765625" y="-16.75" x="-62.48828125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-54.98828125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="109.9765625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Producer Script</span></div></foreignObject></g></g><g transform="translate(1314.453125, 245.75)" id="flowchart-coord-1" class="node default default flowchart-label"><rect height="33.5" width="144.953125" y="-16.75" x="-72.4765625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-64.9765625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="129.953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Coordinator Agent</span></div></foreignObject></g></g><g transform="translate(1311.1015625, 703.75)" id="flowchart-agg-6" class="node default default flowchart-label"><rect height="33.5" width="138.25" y="-16.75" x="-69.125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-61.625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="123.25"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Aggregator Agent</span></div></foreignObject></g></g></g></g></g></svg>
